//计算器

#include <stdio.h>

void menu()
{
	printf("************************\n");
	printf("*********1. ADD*********\n");
	printf("*********2. SUB*********\n");
	printf("*********3. MUL*********\n");
	printf("*********4. DIV*********\n");
	printf("*********0. EXIT********\n");
	printf("************************\n");
}

int Add(int x, int y)
{
	return x + y;
}

int Sub(int x, int y)
{
	return x - y;
}

int Mul(int x, int y)
{
	return x * y;
}

int Div(int x, int y)
{
	return x / y;
}

int main()
{
	//初始化选择
	int intput = 0;
	//初始化操作数
	int x = 0;
	int y = 0;
	//定义一个函数指针数组 - 转移表
	int (*pfArr[])(int, int) = {0, Add, Sub, Mul, Div};
	//计算函数指针数组内元素的个数
	int sz = sizeof(pfArr) / sizeof(pfArr[0]);
	do
	{
		menu();
		printf("请选择：");
		scanf_s("%d", &input);
		if (input >= 1 && input <= sz - 1)
		{
			printf("请输入两个操作数 --> ");
			scanf_s("%d %d", &x, &y);
			int ret = pfArr[input](x, y);
			printf("%d\n", ret);
		}
		else if (input == 0)
		{
			printf("退出\n");
		}
		else
		{
			printf("选择错误\n");
		}
		/*switch (input)
		{
			case 1:
				printf("请输入两个操作数 --> ");
				scanf_s("%d %d", &x, &y);
				printf("结果为：%d\n"，Add(x, y));
				break;
			case 2:
				printf("请输入两个操作数 --> ");
				scanf_s("%d %d", &x, &y);
				printf("结果为：%d\n"，Sub(x, y));
				break;
			case 3:
				printf("请输入两个操作数 --> ");
				scanf_s("%d %d", &x, &y);
				printf("结果为：%d\n"，Mul(x, y));
				break;
			case 4:
				printf("请输入两个操作数 --> ");
				scanf_s("%d %d", &x, &y);
				assert
				printf("结果为：%d\n"，Div(x, y));
				break;
			case 0:
				printf("退出\n");
				break;
			default:
				printf("选择错误\n");
				break;
		}*/
	}while(input);
	return 0;
}
